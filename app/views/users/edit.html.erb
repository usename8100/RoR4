<% provide(:title, "Edit user") %>
<h1>Update your profile</h1>
<div class="row">
	<div class="col-md-6 col-md-offset-3">
		<div class="gravatar_edit">
			<%= gravatar_for @user %>
			<a href="https://gravatar.com/emails" target="_blank" class="btn btn-light">Change</a>
		</div>
		<%= form_for(@user) do |f| %>
			<div class="mb-3 form-group">
				<%= render 'shared/error_messages' %>
			</div>
			<div class="mb-3 form-group">
				<%= f.label :name %>
				<%= f.text_field :name, class: 'form-control' %>
			</div>
			<div class="mb-3 form-group">
				<%= f.label :email %>
				<%= f.email_field :email, class: 'form-control' %>
			</div>
			<div class="mb-3 form-group">				
				<%= f.label :password %>
				<%= f.password_field :password, class: 'form-control' %>
			</div>
			<% if @user.errors[:password].any? %>
				<div class="error_explanation">
					<div class="alert alert-danger">
						<% @user.errors[:password].each do |msg| %>
							<div><%= 'Password ' + msg %></div>	
						<% end %>
					</div>
				</div>
			<% end %>
			<div class="mb-3 form-group">
				<%= f.label :password_confirmation, "Confirmation" %>
				<%= f.password_field :password_confirmation, class: 'form-control' %>
			</div>
			<% if @user.errors[:password_confirmation].any? %>
				<div class="error_explanation">
					<div class="alert alert-danger">
						<% @user.errors[:password_confirmation].each do |msg| %>
							<div><%= 'Password Confirmation ' + msg %></div>
						<% end %>		
					</div>
				</div>
			<% end %>
			<div class="mb-3 form-group">
				<%= f.submit "Save changes", class: "btn btn-primary form-control" %>
			</div>
		<% end %>
	</div>
</div>